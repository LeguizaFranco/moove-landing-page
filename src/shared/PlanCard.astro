---
import { Image } from "astro:assets";

const { plan } = Astro.props;

export interface Props {
    plan: {
        title: string;

        image: ImageMetadata; // Define el tipo de dato para la imagen
        alt: string;
        description: string;
        features: string[];
    };
}
---

<article
    class="flex flex-col bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-2"
>
    <figure class="relative h-56 w-full">
        <Image
            src={plan.image}
            alt={plan.alt}
            class="w-full h-full object-cover"
            loading="lazy"
            widths={[400, 800, 1200]}
            sizes="(max-width: 768px) 100vw, 33vw"
        />
        <div
            class="absolute inset-0 bg-gradient-to-t from-gray-900/50 to-transparent"
        >
        </div>
    </figure>

    <div class="flex-1 p-6 flex flex-col">
        <h3 class="text-2xl font-bold text-gray-900 mb-3">
            {plan.title}
        </h3>
        <p class="text-gray-600 mb-6 flex-1">
            {plan.description}
        </p>

        <ul class="space-y-2 mb-6">
            {
                plan.features.map((feature) => (
                    <li class="flex items-start">
                        <svg
                            class="h-5 w-5 text-green-500 mt-0.5 mr-2 flex-shrink-0"
                            fill="currentColor"
                            viewBox="0 0 20 20"
                        >
                            <path
                                fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd"
                            />
                        </svg>
                        <span>{feature}</span>
                    </li>
                ))
            }
        </ul>

        <div class="mt-auto">
            <a
                href="https://wa.me/2494547001"
                target="_blank"
                aria-label="Contacta por WhatsApp para obtener más detalles"
                title="Contacta vía WhatsApp para más información"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white text-center font-bold py-3 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-2"
            >
                Empezá tu cambio hoy
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        fill-rule="evenodd"
                        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                        clip-rule="evenodd"></path>
                </svg>
            </a>
        </div>
    </div>
</article>
